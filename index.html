<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gen-Z Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link id="google-font-link" rel="stylesheet" href="">
    <style id="dynamic-styles"></style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'ocean-blue': {
                '50': '#f0f9ff',
                '100': '#e0f2fe',
                '200': '#bae6fd',
                '300': '#7dd3fc',
                '400': '#38bdf8',
                '500': '#0ea5e9',
                '600': '#0284c7',
                '700': '#0369a1',
                '800': '#075985',
                '900': '#0c4a6e',
                '950': '#082f49',
              },
              'forest-green': {
                '50': '#f0fdf4',
                '100': '#dcfce7',
                '200': '#bbf7d0',
                '300': '#86efac',
                '400': '#4ade80',
                '500': '#22c55e',
                '600': '#16a34a',
                '700': '#15803d',
                '800': '#166534',
                '900': '#14532d',
                '950': '#052e16',
              }
            }
          }
        }
      }
    </script>
    <style>
      :root {
        --editor-bg: #f8fafc;
        --sidebar-bg: #ffffff;
        --sidebar-border: #e2e8f0;
        --inspector-bg: #ffffff;
        --text-color-primary: #1e293b;
        --text-color-secondary: #64748b;
        --accent-color: #4f46e5;
        --accent-color-light: #e0e7ff;
        --accent-color-dark: #3730a3;
        --danger-color: #dc2626;
        --danger-color-light: #fee2e2;

        --dashboard-bg: #f8fafc;
        --dashboard-header-bg: #ffffff;
        --dashboard-card-bg: #ffffff;
        --dashboard-card-border: #e2e8f0;
        --dashboard-text-primary: #0f172a;
        --dashboard-text-secondary: #64748b;
        --dashboard-text-tertiary: #94a3b8;
      }
      .dark-mode {
        --editor-bg: #0f172a;
        --sidebar-bg: #1e293b;
        --sidebar-border: #334155;
        --inspector-bg: #1e293b;
        --text-color-primary: #f1f5f9;
        --text-color-secondary: #94a3b8;
        --accent-color-light: #312e81;
      }
      .dashboard.dark {
        --dashboard-bg: #0f172a;
        --dashboard-header-bg: #1e293b;
        --dashboard-card-bg: #1e293b;
        --dashboard-card-border: #334155;
        --dashboard-text-primary: #f1f5f9;
        --dashboard-text-secondary: #94a3b8;
        --dashboard-text-tertiary: #64748b;
      }

      /* Base styles */
      .editor-container { background-color: var(--editor-bg); color: var(--text-color-primary); display: flex; flex-direction: column; height: 100vh; font-family: sans-serif; }
      .editor-top-bar { background-color: var(--sidebar-bg); border-bottom: 1px solid var(--sidebar-border); }
      .editor-sidebar { background-color: var(--sidebar-bg); border-right: 1px solid var(--sidebar-border); }
      .editor-inspector { background-color: var(--inspector-bg); border-left: 1px solid var(--sidebar-border); }
      
      /* NEW LAYOUT: Main Editor Grid */
      .editor-main-grid { display: grid; grid-template-columns: 280px 1fr 320px; flex-grow: 1; overflow: hidden; }
      .editor-sidebar, .editor-inspector { display: flex; flex-direction: column; overflow-y: auto; }
      
      /* Top Bar */
      .editor-top-bar { display: flex; align-items: center; justify-content: space-between; padding: 0.5rem 1rem; flex-shrink: 0; }

      /* Canvas / Preview Area */
      .editor-canvas-wrapper { display: flex; flex-direction: column; overflow: hidden; position: relative; }
      .editor-canvas-toolbar { flex-shrink: 0; padding: 4px; display: flex; align-items: center; justify-content: center; background-color: var(--sidebar-bg); border-bottom: 1px solid var(--sidebar-border); }
      .preview-canvas-container { flex-grow: 1; padding: 2rem; overflow: auto; }
      .preview-canvas { width: 100%; height: 100%; background-color: white; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); border: 1px solid #e2e8f0; transition: all 0.3s ease-in-out; transform-origin: top center; }
      .preview-canvas-desktop { width: 100%; }
      .preview-canvas-tablet { max-width: 768px; margin: 0 auto; }
      .preview-canvas-mobile { max-width: 375px; margin: 0 auto; }

      /* NEW: Left Sidebar (Pages & Layers) */
      .panel-section { border-bottom: 1px solid var(--sidebar-border); }
      .panel-header { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-color-secondary); }
      .panel-header-button { color: var(--text-color-secondary); background: transparent; border: none; cursor: pointer; padding: 4px; border-radius: 4px; }
      .panel-header-button:hover { background-color: rgba(100,116,139, 0.1); }
      .panel-content { padding: 0.5rem; }
      .page-item { display: flex; align-items: center; justify-content: space-between; padding: 6px 8px; border-radius: 4px; font-size: 14px; cursor: pointer; }
      .page-item.active { background-color: var(--accent-color-light); font-weight: 600; color: var(--accent-color-dark); }
      .page-item:not(.active):hover { background-color: rgba(100,116,139, 0.1); }
      .homepage-indicator { font-size: 10px; color: var(--text-color-secondary); margin-left: 4px; }

      /* Layers Panel Tree */
      .layer-item { display: flex; align-items: center; padding: 4px 6px; cursor: pointer; font-size: 14px; border-radius: 4px; margin: 1px 0; position: relative; transition: background-color 0.2s; }
      .layer-item:hover { background-color: rgba(100,116,139, 0.1); }
      .layer-item.selected { background-color: var(--accent-color-light); color: var(--accent-color-dark); }
      .layer-item-content { display: flex; align-items: center; gap: 6px; flex-grow: 1; }
      .layer-item-icon { width: 16px; height: 16px; color: #64748b; flex-shrink: 0; }
      .layer-item.selected .layer-item-icon { color: var(--accent-color); }
      .layer-item-expander { display: flex; align-items: center; justify-content: center; width: 16px; height: 16px; color: #94a3b8; flex-shrink: 0; transition: transform 0.2s; }
      .layer-item-expander.expanded { transform: rotate(90deg); }
      .layer-children { padding-left: 20px; border-left: 1px solid var(--sidebar-border); margin-left: 8px; }
      .drop-indicator-top, .drop-indicator-bottom { position: absolute; left: 0; right: 0; height: 4px; background-color: var(--accent-color); opacity: 0.6; border-radius: 2px; z-index: 10; pointer-events: none; }
      .drop-indicator-top { top: -2px; }
      .drop-indicator-bottom { bottom: -2px; }

      /* NEW: Right Sidebar (Inspector) */
      .inspector-header { padding: 1rem; border-bottom: 1px solid var(--sidebar-border); }
      .inspector-header-title { font-weight: 600; color: var(--text-color-primary); }
      .inspector-header-path { font-size: 12px; color: var(--text-color-secondary); margin-top: 4px; }
      .inspector-breadcrumb { cursor: pointer; }
      .inspector-breadcrumb:hover { color: var(--accent-color); }
      .inspector-accordion-header { background: none; border: none; width: 100%; text-align: left; padding: 0.75rem 1rem; font-size: 14px; font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--sidebar-border); }
      .inspector-accordion-header:hover { background-color: rgba(100,116,139, 0.05); }
      .inspector-accordion-content { padding: 1rem; border-bottom: 1px solid var(--sidebar-border); }
      .style-input { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75rem; }
      .style-input label { font-size: 13px; color: var(--text-color-secondary); }
      .style-input input, .style-input select { width: 55%; padding: 4px 8px; border: 1px solid var(--sidebar-border); border-radius: 4px; font-size: 13px; background-color: var(--sidebar-bg); color: var(--text-color-primary); }
      .style-input input:focus, .style-input select:focus { border-color: var(--accent-color); outline: none; box-shadow: 0 0 0 1px var(--accent-color); }

      /* Interactive Wrapper & Toolbar */
      .interactive-wrapper { position: relative; transition: outline-color 0.2s ease-in-out; outline: 2px solid transparent; outline-offset: -2px;}
      .interactive-wrapper:hover:not(.selected) { outline-color: #a5b4fc; }
      .interactive-wrapper.selected { outline-color: var(--accent-color); z-index: 10; }
      [contenteditable="true"] { outline: none; }
      .interactive-wrapper.selected [contenteditable="true"] { outline: 1px dashed var(--accent-color); outline-offset: 2px; }
      
      /* Published Site Styles */
      [data-animation] { opacity: 0; transition: opacity 0.7s ease-out, transform 0.7s ease-out; }
      [data-animation="slideInUp"].is-visible { opacity: 1; transform: translateY(0); }
      [data-animation="slideInUp"] { transform: translateY(20px); }
      [data-animation="fadeIn"].is-visible { opacity: 1; }
      [data-animation="slideInLeft"].is-visible { opacity: 1; transform: translateX(0); }
      [data-animation="slideInLeft"] { transform: translateX(-20px); }
      [data-animation="slideInRight"].is-visible { opacity: 1; transform: translateX(0); }
      [data-animation="slideInRight"] { transform: translateX(20px); }
      [data-animation="scaleUp"].is-visible { opacity: 1; transform: scale(1); }
      [data-animation="scaleUp"] { transform: scale(0.95); }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/jsx-runtime": "https://aistudiocdn.com/react@18.2.0/jsx-runtime",
    "react/": "https://aistudiocdn.com/react@18.2.0/",
    "react": "https://aistudiocdn.com/react@18.2.0",
    "react-dom/client": "https://aistudiocdn.com/react-dom@18.2.0/client",
    "react-dom/": "https://aistudiocdn.com/react-dom@18.2.0/",
    "react-dom": "https://aistudiocdn.com/react-dom@18.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@1.26.0",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@6.23.0?deps=react@18.2.0",
    "uuid": "https://aistudiocdn.com/uuid@9.0.1",
    "@vercel/kv": "https://aistudiocdn.com/@vercel/kv@1.0.1",
    "immer": "https://aistudiocdn.com/immer@10.1.1",
    "use-immer": "https://aistudiocdn.com/use-immer@0.9.0?deps=react@18.2.0"
  }
}
</script>
</head>
  <body class="bg-slate-50">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>